parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"LFDw":[function(require,module,exports) {
"use strict";function t(t){return n(t)||e(t)||i(t)||r()}function r(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function e(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function n(t){if(Array.isArray(t))return u(t)}function a(t,r){return f(t)||c(t,r)||i(t,r)||o()}function o(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function i(t,r){if(t){if("string"==typeof t)return u(t,r);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?u(t,r):void 0}}function u(t,r){(null==r||r>t.length)&&(r=t.length);for(var e=0,n=new Array(r);e<r;e++)n[e]=t[e];return n}function c(t,r){var e=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=e){var n,a,o,i,u=[],c=!0,f=!1;try{if(o=(e=e.call(t)).next,0===r){if(Object(e)!==e)return;c=!1}else for(;!(c=(n=o.call(e)).done)&&(u.push(n.value),u.length!==r);c=!0);}catch(l){f=!0,a=l}finally{try{if(!c&&null!=e.return&&(i=e.return(),Object(i)!==i))return}finally{if(f)throw a}}return u}}function f(t){if(Array.isArray(t))return t}Object.defineProperty(exports,"__esModule",{value:!0}),exports.filterAlluvialData=E,exports.getAlluvialData=x,exports.getCompaniesAircraftsMap=I,exports.getCompaniesFlightArray=A,exports.getData=O,exports.getFilteredAlluvialData=R,exports.getSankeyData=S,exports.getTopCompaniesCount=w,exports.groupByMainCompanies=j,exports.resizeTopCompagnies=H,exports.setAlluvialData=b,exports.setCompaniesAircraftsMap=D,exports.setData=v,exports.setSankeyData=T,exports.setTopCompaniesCount=C;var l=[],p=[],s=[],m=[],g=[],d=0,y=[],h=new Set;function v(t){g=M(l=t)}function b(t){s=[],t.forEach(function(t){s.push({airline:t.airline,duration:t.duration,departureTime:t.departureTime,flightRange:t.flightRange,count:parseInt(t.count)})})}function E(){m=[],s.forEach(function(t){var r=g.findIndex(function(r){return r[0]===t.airline});if(r>=0&&r<d)m.push(t);else{var e=m.find(function(r){return r.duration===t.duration&&r.departureTime===t.departureTime&&r.flightRange===t.flightRange&&"OTHERS"===r.airline});e?e.count+=t.count:m.push({airline:"OTHERS",duration:t.duration,departureTime:t.departureTime,flightRange:t.flightRange,count:t.count})}});var t=g.findIndex(function(t){return"OTHERS"===t});if(t>=0&&t<d){var r=m.find(function(t){return"OTHERS"===t.airline});r?r.count+=otherCount:m.push({airline:"OTHERS",duration:"",departureTime:"",flightRange:"",count:otherCount})}T()}function T(){p=[];var t={};m.forEach(function(r){var e="".concat(r.airline,"_").concat(r.duration);t[e]||(t[e]=0),t[e]+=r.count});var r={};m.forEach(function(t){var e="".concat(t.duration,"_").concat(t.departureTime);r[e]||(r[e]=0),r[e]+=t.count});var e={};return m.forEach(function(t){var r="".concat(t.departureTime,"_").concat(t.flightRange);e[r]||(e[r]=0),e[r]+=t.count}),Object.keys(t).forEach(function(r){var e=a(r.split("_"),2),n=e[0],o=e[1],i=t[r];p.push({source:n,target:o,count:i,level:0})}),Object.keys(r).forEach(function(t){var e=a(t.split("_"),2),n=e[0],o=e[1],i=r[t];p.push({source:n,target:o,count:i,level:1})}),Object.keys(e).forEach(function(t){var r=a(t.split("_"),2),n=r[0],o=r[1],i=e[t];p.push({source:n,target:o,count:i,level:2})}),p}function O(){return t(l)}function S(){return t(p)}function x(){return t(s)}function R(){return t(m)}function A(){return t(g)}function w(){return d}function C(t){d=t}function I(){return y}function j(t){var r=new Map;t.forEach(function(t){h.has(t.company)||(t.company="OTHERS");var e=[t.company,t.airportIn,t.airportOut],n=[t.company,t.airportOut,t.airportIn];r.get(e)?r.set(e,r.get(e)+parseFloat(t.number)):r.get(n)?r.set(n,r.get(n)+parseFloat(t.number)):r.set(e,parseFloat(t.number))});var e=[];return r.forEach(function(t,r){e.push({company:r[0],airportIn:r[1],airportOut:r[2],number:t})}),new Promise(function(t,r){return t(e)})}function H(t){var r=t.splice(0,d);return r.forEach(function(t){return h.add(t[0])}),r}function M(r){var e=new Map;r.forEach(function(t){e.get(t.company)?e.set(t.company,e.get(t.company)+parseFloat(t.number)):e.set(t.company,parseFloat(t.number))}),e.delete("NULL"),e.delete("");var n=e.get("OTHERS");e.delete("OTHERS");var a=t(e.entries()).sort(function(t,r){return r[1]-t[1]});return a.push(["OTHERS",n]),a}function D(t){var r=new Map;return t.forEach(function(t){var e=t.company;if(""!=e&&"NULL"!=e){r.get(e)||e&&r.set(e,new Map);var n=""==t.type||"NULL"==t.type?"Inconnu":t.type;r.get(e).get(n)?r.get(e).set(n,r.get(e).get(n)+1):r.get(e).set(n,1)}}),y=r,r}
},{}],"LSfD":[function(require,module,exports) {
"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,r(l.key),l)}}function l(t,e,l){return e&&o(t.prototype,e),l&&o(t,l),Object.defineProperty(t,"prototype",{writable:!1}),t}function n(t,e,o){return(e=r(e))in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}function r(e){var o=i(e,"string");return"symbol"===t(o)?o:String(o)}function i(e,o){if("object"!==t(e)||null===e)return e;var l=e[Symbol.toPrimitive];if(void 0!==l){var n=l.call(e,o||"default");if("object"!==t(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===o?String:Number)(e)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var a=function(){function t(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"body";e(this,t),n(this,"element",void 0),this.element=d3.select(o).append("div").attr("class","tooltip").style("background-color","black").style("border-radius","5px").style("padding","10px").style("color","white").style("position","absolute").style("display","none")}return l(t,[{key:"showTooltipTop",value:function(t,e){this.element.style("opacity",1).html(e[0]+": "+e[1]+" vols").style("left",t.x+30+"px").style("top",t.pageY+30+"px").style("width",null).style("display","block")}},{key:"addAirportLegendNetwork",value:function(t,e,o){var l=this.element.select("#legAirportsBlock").append("svg").attr("class","legAirport_"+t).attr("height","40px");l.append("circle").transition().duration(300).attr("r",9).attr("cx",10).attr("cy",10).attr("fill",o).attr("stroke","black").attr("stroke-width","1"),l.append("text").transition().duration(300).text("Aéroport "+e).attr("x",30).attr("y",15)}},{key:"delFlightLegendNetwork",value:function(){d3.selectAll(".legFlight").transition().duration(300).remove()}},{key:"addFlightLegendNetwork",value:function(t,e){var o=this.element.select("#legFlightsBlock").append("svg").attr("class","legFlight").attr("height","40px");o.append("rect").transition().duration(300).attr("width",30).attr("height",10).attr("x",-5).attr("y",5).attr("fill",e),o.append("text").transition().duration(300).text(t).attr("x",30).attr("y",15)}},{key:"delAirportLegendNetwork",value:function(t){d3.selectAll(".legAirport_"+t).transition().duration(300).remove()}},{key:"createLegendNetwork",value:function(){this.element.style("background","rgba(255,255,255,0.5)").style("left","3px").style("top","35px").style("width","300px").style("height","500px").attr("id","infoNetwork").style("opacity",0),this.element.append("div").attr("id","legFlightsBlock"),this.element.append("div").attr("id","legAirportsBlock")}},{key:"showLegendNetwork",value:function(){this.element.transition().duration(300).style("opacity",1).style("display","block")}},{key:"hiddenLegendNetwork",value:function(){this.element.style("display","none").style("opacity",0)}},{key:"showTooltipBottom",value:function(t,e){this.element.style("opacity",1).html("Prochaines 5 plus grandes compagnies: <br>"+e).style("left",t.x+30+"px").style("top",t.pageY+30+"px").style("width","300px").style("display","block")}},{key:"showTooltipLink",value:function(t,e,o,l,n){var r="";switch(n){case 0:r="".concat(l," vols ").concat(o,"-courriers<br>effectués par ").concat(e);break;case 1:r="".concat(l," vols ").concat(e,"-courriers<br>effectués entre ").concat(o);break;case 2:r="".concat(l," vols effectués<br>entre ").concat(e," de desserte ").concat(o)}this.element.style("opacity",.7).html(r).style("left",t.x+30+"px").style("top",t.pageY+30+"px").style("display","block")}},{key:"showTooltipNode",value:function(t,e,o,l){var n="";switch(l){case 0:n="".concat(o," vols effectués par ").concat(e);break;case 1:n="".concat(o," vols ").concat(e,"-courriers");break;case 2:n="".concat(o," vols effectués entre ").concat(e);break;default:n="".concat(o," vols de desserte ").concat(e)}this.element.style("opacity",.7).html(n).style("left",t.x+30+"px").style("top",t.pageY+30+"px").style("display","block")}},{key:"showTooltipAirport",value:function(t,e){this.element.style("opacity",.7).html(e[0]+"<br>"+e[2]+" - "+e[1]+"<br>"+e[3]+" vols").style("left",(t.x>.5*window.innerWidth?t.x-90:t.x+30)+"px").style("top",t.pageY+30+"px").style("display","block")}},{key:"showTooltipAircrafts",value:function(t,e){this.element.style("opacity",1).html("Aéronef de type: "+e.category+"<br>Quantité: "+e.fraction+" / "+e.total).style("left",t.x+30+"px").style("top",t.pageY+30+"px").style("display","block")}},{key:"moveTooltip",value:function(t){this.element.style("left",t.x+30+"px").style("top",t.pageY+30+"px")}},{key:"hideTooltip",value:function(){this.element.style("display","none")}}]),t}();exports.default=a;
},{}],"R5VK":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.drawWaffles=A,exports.initWaffle=w,exports.modifyData=M;var e,t,r=i(require("./preprocess.js")),n=a(require("./tooltip.js"));function a(e){return e&&e.__esModule?e:{default:e}}function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(o=function(e){return e?r:t})(e)}function i(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=o(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=a?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}function l(e){return c(e)||u(e)||p(e)||f()}function f(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function c(e){if(Array.isArray(e))return d(e)}function s(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=p(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){l=!0,o=e},f:function(){try{i||null==r.return||r.return()}finally{if(l)throw o}}}}function p(e,t){if(e){if("string"==typeof e)return d(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?d(e,t):void 0}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var v={},h=5,g=25,m=20,y=5,b=new n.default;function w(){window.onscroll=function(){window.scrollY>=4e3&&(window.onscroll=null,d3.csv("./aircrafts.csv").then(function(e){r.setCompaniesAircraftsMap(e),A()}))}}function A(){W(),S(),C(),k()}function M(){var e=d3.select("#viz4");e.select("#topWaffles").remove(),e.select("#otherWaffle").remove(),e.select(".legend").remove(),W(),S(),C(),k()}function W(){var n=r.getCompaniesFlightArray(),a=r.getCompaniesAircraftsMap();e=new Map,t=new Map,n.forEach(function(n,o){if(o<r.getTopCompaniesCount())e.set(n[0],a.get(n[0]));else{var i,l=s(a.get(n[0]));try{for(l.s();!(i=l.n()).done;){var f=i.value,u=f[0];t.get(u)||t.set(u,0),t.set(u,t.get(u)+f[1])}}catch(c){l.e(c)}finally{l.f()}}})}function j(e){var t=e.map(function(e){return e.category});v=d3.scaleOrdinal().domain(t).range(d3.schemeCategory10)}function O(e,t){var r=e.reduce(function(e,t){return e+t.value},0),n=Math.ceil(r/t/25);return otherCompaniesWaffleHeight=n*m+n*y,{width:g*m+g*y,height:otherCompaniesWaffleHeight,rows:n,cols:g,squareSize:m,offset:y}}function S(){var e=x(t),r=d3.select("#viz4").append("div").attr("id","otherWaffle").append("div").attr("class","waffle");j(e),E(e,r),d3.select("#otherWaffle").append("p").attr("class","waffleLabel").html("AUTRES COMPAGNIES")}function C(){d3.select("#viz4").append("div").attr("id","topWaffles");var t=0;e.forEach(function(e,r){var n=d3.select("#topWaffles").append("div").attr("class","waffle");E(x(e),n,t),d3.select("#topWaffles").append("p").attr("class","waffleLabel").html(r),t++})}function x(e){var t=[];l(e.entries()).forEach(function(e){t.push({category:e[0],value:e[1]})}),t.sort(function(e,t){return t.value-e.value});var r=0;if(t.length>8)for(var n=8;n<t.length;n++)r+=t[n].value;t.splice(8,t.length-8),t.push({category:"Autres",value:r});var a=t.reduce(function(e,t){return e+t.value},0),o=[];return t.forEach(function(e){for(var t=0;t<Math.round(e.value/h);t++)o.push({category:e.category,fraction:e.value,total:a})}),o}function E(e,t){t.selectAll(".block").data(e).enter().append("div").attr("background-image","url('img/plane-icon.png')").attr("class","block").style("background-color",function(e){return v(e.category)}).on("mouseover",function(e,t){b.showTooltipAircrafts(e,t)}),t.on("mousemove",function(e){return b.moveTooltip(e)}).on("mouseleave",function(){return b.hideTooltip()})}function k(){d3.select("#viz4").append("br");var e=d3.select("#viz4").append("svg").attr("class","legend").attr("height","50").attr("width",50*v.domain().length+50).append("g").attr("class","legend-container").attr("transform","translate(10, 10)").selectAll(".legend-item").data(v.domain()).enter().append("g").attr("class","legend-item").attr("transform",function(e,t){return"translate(".concat(50*t,", 0)")});e.append("rect").attr("width",15).attr("height",15).attr("margin-bottom","3px").style("fill",v),e.append("text").attr("x",20).attr("y",15).style("font-size","medium").text(function(e){return e})}
},{"./preprocess.js":"LFDw","./tooltip.js":"LSfD"}],"Hxfc":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.createAlluvialViz=p,exports.initAlluvial=f,exports.loadData=d;var t=a(require("./preprocess.js")),e=n(require("./tooltip.js"));function n(t){return t&&t.__esModule?t:{default:t}}function r(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(r=function(t){return t?n:e})(t)}function a(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var n=r(e);if(n&&n.has(t))return n.get(t);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if("default"!==i&&Object.prototype.hasOwnProperty.call(t,i)){var u=o?Object.getOwnPropertyDescriptor(t,i):null;u&&(u.get||u.set)?Object.defineProperty(a,i,u):a[i]=t[i]}return a.default=t,n&&n.set(t,a),a}var o=[],i=[],u={nodes:[],links:[]},c=1500,l=1e3,s=new e.default;function d(){d3.select("#viz3").on("mouseover",null),d3.csv("./alluvial_data.csv").then(function(e){t.setAlluvialData(e[0]),p()})}function f(){d3.select("#viz3").on("mouseover",d)}function h(t){switch(t){case"matin":return"4h-10h";case"après-midi":return"10h-16h";case"soire":return"16h-22h";case"nuit":return"22h-4h";default:return t}}function p(){o=t.getSankeyData(),u.nodes=[],u.links=[],d3.select("#alluvialChart").remove();var e=d3.select("#viz3").append("svg").attr("id","alluvialChart").attr("width","70%"),n=d3.sankey().nodeSort(null).nodeWidth(15).nodePadding(10).size([c,l]);console.log(o),o.forEach(function(t){var e=u.nodes.findIndex(function(e){return e.name===t.source}),n=u.nodes.findIndex(function(e){return e.name===t.target}),r={name:t.source},a={name:t.target};-1===e&&u.nodes.push(r),-1===n&&u.nodes.push(a),u.links.push({source:-1===e?r:u.nodes[e],target:-1===n?a:u.nodes[n],value:t.count,level:t.level})}),console.log(u.nodes),n(u);var r=e.append("g").selectAll(".node").data(u.nodes).enter().append("g").attr("class","node").attr("transform",function(t){return"translate(".concat(t.x0,",").concat(t.y0,")")}),a=r.filter(function(t,e){return e===u.nodes.length-1}).node().getBoundingClientRect().height;e.attr("height",l+a),r.append("rect").attr("height",function(t){return t.y1-t.y0}).attr("width",function(t){return t.x1-t.x0}).on("mouseover",function(t,e){return m(e.name),s.showTooltipNode(t,h(e.name),e.value,e.layer)}).on("mousemove",function(t){return s.moveTooltip(t)}).on("mouseout",function(){s.hideTooltip(),y()}).style("fill","#a52a2a"),r.append("text").attr("class","alluvial-labels").attr("x",function(t){return t.x0<c/2?25:-10}).attr("y",function(t){return(t.y1-t.y0)/2}).attr("dy","0.35em").style("padding-top",10).attr("text-anchor",function(t){return t.x0<c/2?"start":"end"}).text(function(t){return t.name}).style("font-size","18px"),e.append("g").attr("fill","none").attr("stroke-opacity",.5).selectAll("g").data(u.links).join("g").attr("stroke","gray").attr("id",function(t){return"link-"+t.index}).append("path").attr("d",d3.sankeyLinkHorizontal()).attr("stroke-width",function(t){return Math.max(1,t.width)}).on("mouseover",function(t,e){return v(e.source.name,e.target.name),s.showTooltipLink(t,h(e.source.name),h(e.target.name),e.value,e.level)}).on("mouseout",y);var i=e.select("g").node().getBBox();e.attr("viewBox","".concat(i.x," ").concat(i.y," ").concat(i.width," ").concat(i.height))}function g(t,e){u.links.forEach(function(t){d3.select("#link-"+t.index+" path").attr("stroke-width",0)}),e.forEach(function(e){var n=0;t.forEach(function(t){(t.airline==e.source&&t.duration==e.target||t.duration==e.source&&t.departureTime==e.target||t.departureTime==e.source&&t.flightRange==e.target)&&(n+=t.count)}),e.count=n,u.links.forEach(function(t){var n=d3.select("#link-"+t.index+" path");if(t.source.name==e.source&&t.target.name==e.target){var r=e.count/t.value;n.attr("stroke-opacity",.5).attr("stroke","red").attr("stroke-width",function(t){return Math.max(1,t.width*r)}).on("mousemove",function(t){return s.moveTooltip(t)}).on("mouseout",function(){return y(),s.hideTooltip()})}})})}function v(e,n){i=t.getFilteredAlluvialData();var r=[],a=[];i.forEach(function(t){var a=[t.airline,t.duration,t.departureTime,t.flightRange];a.includes(e)&&a.includes(n)&&r.push(t)}),r.forEach(function(t){var e=[t.airline,t.duration,t.departureTime,t.flightRange];o.forEach(function(t){e.includes(t.source)&&e.includes(t.target)&&(a.includes(t)||a.push(t))})}),g(r,a)}function m(e){i=t.getFilteredAlluvialData();var n=[],r=[];i.forEach(function(t){[t.airline,t.duration,t.departureTime,t.flightRange].includes(e)&&n.push(t)}),n.forEach(function(t){o.forEach(function(e){(e.source==t.airline&&e.target==t.duration||e.source==t.duration&&e.target==t.departureTime||e.source==t.departureTime&&e.target==t.flightRange)&&(r.includes(e)||r.push(e))})}),g(n,r)}function y(){u.links.forEach(function(t){d3.select("#link-"+t.index+" path").attr("stroke","gray").attr("stroke-opacity",.5).attr("stroke-width",function(t){return Math.max(1,t.width)})})}
},{"./preprocess.js":"LFDw","./tooltip.js":"LSfD"}],"Px16":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.displayBucketGraph=y,exports.setUpSlider=h;var t=a(require("./preprocess.js")),e=a(require("./alluvial.js")),r=a(require("./viz4.js")),n=o(require("./tooltip.js"));function o(t){return t&&t.__esModule?t:{default:t}}function l(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,r=new WeakMap;return(l=function(t){return t?r:e})(t)}function a(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var r=l(e);if(r&&r.has(t))return r.get(t);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if("default"!==a&&Object.prototype.hasOwnProperty.call(t,a)){var i=o?Object.getOwnPropertyDescriptor(t,a):null;i&&(i.get||i.set)?Object.defineProperty(n,a,i):n[a]=t[a]}return n.default=t,r&&r.set(t,n),n}function i(t){return d(t)||c(t)||u(t)||s()}function s(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(t,e){if(t){if("string"==typeof t)return f(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?f(t,e):void 0}}function c(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function d(t){if(Array.isArray(t))return f(t)}function f(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var p=300,m=200,v=new n.default;function y(){var e=t.getCompaniesFlightArray(),r=L(e),n=i(e),o=t.resizeTopCompagnies(n);h(),b(o,r),g(n,r),w()}function h(){var n=document.getElementById("slider"),o=document.getElementById("slider-value");o.innerHTML=n.value,t.filterAlluvialData(),n.oninput=function(){o.innerHTML=this.value,d3.select("#topSVG").selectAll("*").remove(),d3.select("#bottomSVG").selectAll("*").remove(),t.setTopCompaniesCount(this.value),y(),t.filterAlluvialData(),0!==t.getCompaniesAircraftsMap().length&&r.modifyData()},e.createAlluvialViz()}function b(t,e){d3.select("#topSVG").selectAll(".topCompany").data(t).enter().append("g").attr("class","topCompany").append("rect").attr("class","bucket-tile").attr("y",function(r,n){for(var o=p,l=0;l<=n;l++)o-=e(t[l][1]);return o}).attr("fill","rgb(75, 115, 47)").attr("height",function(t){return e(t[1])}).attr("width",m).attr("stroke","rgb(40, 63, 25)").attr("stroke-width","2px").on("mouseover",function(t,e){return d3.select(this).attr("fill","rgb(124, 191, 78)"),v.showTooltipTop(t,e)}).on("mousemove",function(t){return v.moveTooltip(t)}).on("mouseleave",function(){return d3.select(this).attr("fill","rgb(75, 115, 47)"),v.hideTooltip()}),d3.selectAll(".topCompany").append("text").attr("y",function(r,n){for(var o=p,l=0;l<=n;l++)o-=e(t[l][1]);return o+=e(r[1])/2}).attr("x",function(){return m/2}).attr("font-size","18px").attr("text-anchor","middle").attr("fill","white").style("pointer-events","none").style("user-select","none").text(function(t){var r=e(t[1]);return r>22?t[0]:r>7?"...":""})}function g(t,e){for(var r=e(d3.sum(t,function(t){return t[1]})),n="",o=0,l=0;l<5;l++)n+=l+1+". "+t[l][0]+": "+t[l][1]+" vols <br>",o+=t[l][1];n+="<br><b>Nombre total de vols: "+o+" vols</b>",d3.select("#bottomSVG").append("g").attr("width",m).style("text-align","center").attr("class","bottomCompany").append("rect").attr("class","bucket-tile").attr("y",function(t,e){return p-r}).attr("fill","rgb(59, 56, 56)").attr("height",function(t){return r}).attr("width",m).attr("stroke-width","2px").attr("stroke","rgb(44, 42, 42)").on("mouseover",function(t){return d3.select(this).style("fill","rgb(96, 91, 91)"),v.showTooltipBottom(t,n)}).on("mousemove",function(t){return v.moveTooltip(t)}).on("mouseleave",function(){return d3.select(this).style("fill","rgb(59, 56, 56)"),v.hideTooltip()}),d3.select(".bottomCompany").append("text").attr("y",function(){return p-r/2}).attr("x",function(){return m/2}).attr("font-size","18px").attr("text-anchor","middle").attr("fill","white").style("pointer-events","none").style("user-select","none").text("Autres compagnies")}function L(t){var e=d3.sum(t,function(t){return t[1]});return d3.scaleLinear().domain([d3.min(t,function(t){return t[1]}),e]).range([0,p])}function w(){var t=document.getElementById("right-hublot-cover"),e=document.getElementById("lid"),r=document.getElementById("handle"),n=!1;document.getElementById("right-hublot").onclick=function(){n?(t.classList.remove("openLid"),e.classList.remove("liftHandle"),r.classList.remove("liftHandle"),t.classList.add("closeLid"),e.classList.add("pullHandle"),r.classList.add("pullHandle")):(t.classList.remove("closeLid"),e.classList.remove("pullHandle"),r.classList.remove("pullHandle"),t.classList.add("openLid"),e.classList.add("liftHandle"),r.classList.add("liftHandle")),n=!n}}
},{"./preprocess.js":"LFDw","./alluvial.js":"Hxfc","./viz4.js":"R5VK","./tooltip.js":"LSfD"}],"Dvza":[function(require,module,exports) {
var define;
var global = arguments[3];
var e,t=arguments[3];!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof e&&e.amd?e(n):(t=t||self).scrollama=n()}(this,function(){"use strict";function e({id:e,step:t,marginTop:n}){const{index:o,height:r}=t,s=`scrollama__debug-step--${e}-${o}`;let i=document.querySelector(`.${s}`);i||(i=function(e){const t=document.createElement("div");t.className=`scrollama__debug-step ${e}`,t.style.position="fixed",t.style.left="0",t.style.width="100%",t.style.zIndex="9999",t.style.borderTop="2px solid black",t.style.borderBottom="2px solid black";const n=document.createElement("p");return n.style.position="absolute",n.style.left="0",n.style.height="1px",n.style.width="100%",n.style.borderTop="1px dashed black",t.appendChild(n),document.body.appendChild(t),t}(s)),i.style.top=`${-1*n}px`,i.style.height=`${r}px`,i.querySelector("p").style.top=`${r/2}px`}function t(e){console.error(`scrollama error: ${e}`)}function n(e){return+e.getAttribute("data-scrollama-index")}function o(e){if("string"==typeof e&&e.indexOf("px")>0){const t=+e.replace("px","");return isNaN(t)?(err("offset value must be in 'px' format. Fallback to 0.5."),{format:"percent",value:.5}):{format:"pixels",value:t}}return"number"!=typeof e&&isNaN(+e)?null:(e>1&&err("offset value is greater than 1. Fallback to 1."),e<0&&err("offset value is lower than 0. Fallback to 0."),{format:"percent",value:Math.min(Math.max(0,e),1)})}function r(e){const{top:t}=e.getBoundingClientRect();return t+window.pageYOffset-(document.body.clientTop||0)}let s,i,c;function a(e){const t=e?e.scrollTop:window.pageYOffset;s!==t&&((s=t)>i?c="down":s<i&&(c="up"),i=s)}return function(){let l,f,p,u={},d=function(){const e="abcdefghijklmnopqrstuvwxyz",t=Date.now(),n=[];for(let o=0;o<6;o+=1){const t=e[Math.floor(Math.random()*e.length)];n.push(t)}return`${n.join("")}${t}`}(),h=[],g=0,m=!1,x=!1,b=!1,y=!1,v=[];function E(){u={stepEnter:()=>{},stepExit:()=>{},stepProgress:()=>{}},v=[]}function w(e){e&&!m&&z(),!e&&m&&O(),m=e}function $(e,t){const o=n(e),r=h[o];void 0!==t&&(r.progress=t);const s={element:e,index:o,progress:t,direction:c};"enter"===r.state&&u.stepProgress(s)}function S([e]){const t=n(e.target),o=h[t],r=e.target.offsetHeight;r!==o.height&&(o.height=r,q(o),N(o),A(o))}function k([e]){a(f);const{isIntersecting:t,target:o}=e;t?function(e,t=!0){const o=n(e),r=h[o],s={element:e,index:o,direction:c};r.direction=c,r.state="enter",v[o]||u.stepEnter(s),y&&(v[o]=!0)}(o):function(e,t=!0){const o=n(e),r=h[o];if(!r.state)return!1;const s={element:e,index:o,direction:c};x&&("down"===c&&r.progress<1?$(e,1):"up"===c&&r.progress>0&&$(e,0)),r.direction=c,r.state="exit",u.stepExit(s)}(o)}function M([e]){const t=n(e.target),o=h[t],{isIntersecting:r,intersectionRatio:s,target:i}=e;r&&"enter"===o.state&&$(i,s)}function q({observers:e}){Object.keys(e).map(t=>{e[t].disconnect()})}function O(){h.forEach(q)}function A(e){const t=new ResizeObserver(S);t.observe(e.node),e.observers.resize=t}function N(t){const n=window.innerHeight,o=t.offset||l,r="pixels"===o.format?1:n,s=o.value*r,i=t.height/2-s,c=t.height/2-(n-s),a=new IntersectionObserver(k,{rootMargin:`${i}px 0px ${c}px 0px`,threshold:.5,root:p});a.observe(t.node),t.observers.step=a,b&&e({id:d,step:t,marginTop:i,marginBottom:c})}function T(e){const t=window.innerHeight,n=e.offset||l,o="pixels"===n.format?1:t,r=n.value*o,s=`${-r+e.height}px 0px ${r-t}px 0px`,i=function(e,t){const n=Math.ceil(e/t),o=[],r=1/n;for(let s=0;s<n+1;s+=1)o.push(s*r);return o}(e.height,g),c=new IntersectionObserver(M,{rootMargin:s,threshold:i});c.observe(e.node),e.observers.progress=c}function z(){O(),h.forEach(A),h.forEach(N),x&&h.forEach(T)}const I={};return I.setup=(({step:e,parent:n,offset:c=.5,threshold:u=4,progress:d=!1,once:m=!1,debug:v=!1,container:$,root:S=null})=>(function(e){s=0,i=0,document.addEventListener("scroll",()=>a(e))}($),(h=function(e,t=document){return"string"==typeof e?Array.from(t.querySelectorAll(e)):e instanceof Element?[e]:e instanceof NodeList?Array.from(e):e instanceof Array?e:[]}(e,n).map((e,t)=>({index:t,direction:void 0,height:e.offsetHeight,node:e,observers:{},offset:o(e.dataset.offset),top:r(e),progress:0,state:void 0}))).length?(x=d,y=m,b=v,g=Math.max(1,+u),l=o(c),f=$,p=S,E(),function(e){e.forEach(e=>e.node.setAttribute("data-scrollama-index",e.index))}(h),w(!0),I):(t("no step elements"),I))),I.enable=(()=>(w(!0),I)),I.disable=(()=>(w(!1),I)),I.destroy=(()=>(w(!1),E(),I)),I.resize=(()=>(z(),I)),I.offset=(e=>null==e?l.value:(l=o(e),z(),I)),I.onStepEnter=(e=>("function"==typeof e?u.stepEnter=e:t("onStepEnter requires a function"),I)),I.onStepExit=(e=>("function"==typeof e?u.stepExit=e:t("onStepExit requires a function"),I)),I.onStepProgress=(e=>("function"==typeof e?u.stepProgress=e:t("onStepProgress requires a function"),I)),I}});
},{}],"ZSHM":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=i(require("../tooltip")),e=o(require("../preprocess.js"));function r(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,o=new WeakMap;return(r=function(t){return t?o:e})(t)}function o(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var o=r(e);if(o&&o.has(t))return o.get(t);var i={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if("default"!==a&&Object.prototype.hasOwnProperty.call(t,a)){var s=n?Object.getOwnPropertyDescriptor(t,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=t[a]}return i.default=t,o&&o.set(t,i),i}function i(t){return t&&t.__esModule?t:{default:t}}function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){for(var r=0;r<e.length;r++){var o=e[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,c(o.key),o)}}function l(t,e,r){return e&&s(t.prototype,e),r&&s(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function c(t){var e=u(t,"string");return"symbol"===n(e)?e:String(e)}function u(t,e){if("object"!==n(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var o=r.call(t,e||"default");if("object"!==n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var h=function(){function r(e){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;a(this,r),this.tooltip=new t.default,this.tooltipLegend=new t.default("#viz2"),this.ratio=o,this.svg=e,this.airportCode={},this.levelGeo={1:"QC",2:"CA",3:"WORLD",4:null,QC:1,CA:2,WORLD:3,null:4},this.ccolor={Africa:"rgba(0, 0, 255,",America:"rgba(151, 18, 18,",Europe:"rgba(0, 255, 0,",Asia:"rgba(0, 255, 255,",Oceania:"rgba(255, 0, 255,"},this.currentGeo="QC",this.limits=[],this.minMaxXGlobal=[1e6,0],this.minMaxYGlobal=[1e6,0],this.isFlightShow=!1,this.createLegend()}return l(r,[{key:"scaleSize",value:function(t){return 2*(parseFloat(t)/1e5+Math.log(t)/5)}},{key:"updateCurrentState",value:function(t){this.currentGeo=this.levelGeo[this.levelGeo[this.currentGeo]+t]}},{key:"createLegend",value:function(){var t=this;t.tooltipLegend.createLegendNetwork();var e=!1;d3.select("#infoNetworkButton").style("cursor","help").on("click",function(){return(e=!e)?t.tooltipLegend.showLegendNetwork():t.tooltipLegend.hiddenLegendNetwork()}).on("mouseover",function(){d3.select(this).style("color","blue")}).on("mouseleave",function(){d3.select(this).style("color","black")})}},{key:"displayAirports",value:function(){d3.csv("./".concat(this.currentGeo,"/airports").concat(this.currentGeo,".csv")).then(function(t){var e=this;switch(this.currentGeo){case"QC":this.tooltipLegend.addAirportLegendNetwork(this.currentGeo,"québécois","rgba(255, 0, 0, 0.6)");break;case"CA":this.tooltipLegend.addAirportLegendNetwork(this.currentGeo,"américain non québécois",this.ccolor.America+"0.6)");break;case"WORLD":for(var r=0,o=[["Africa","africain"],["Europe","européen"],["Asia","asiatique"],["Oceania","océanien"]];r<o.length;r++){var i=o[r];this.tooltipLegend.addAirportLegendNetwork(this.currentGeo,i[1],this.ccolor[i[0]]+"0.6)")}}var n=t.length,a=d3.extent(t,function(t){return parseFloat(t.lat)}),s=d3.extent(t,function(t){return parseFloat(t.lon)/e.ratio});t.forEach(function(t){return e.airportCode[t.airport]=[parseFloat(t.lat),parseFloat(t.lon)/e.ratio]}),a=[Math.min(a[0]-10,this.minMaxXGlobal[0]),Math.max(a[1]+10,this.minMaxXGlobal[1])],s=[Math.min(s[0]-10,this.minMaxYGlobal[0]),Math.max(s[1]+10,this.minMaxYGlobal[1])],void 0===this.limits[this.levelGeo[this.currentGeo]]&&(this.limits[this.levelGeo[this.currentGeo]]="".concat(a[0],",").concat(s[0],",").concat(a[1]-a[0],",").concat(s[1]-s[0])),this.minMaxXGlobal,this.minMaxYGlobal=a;var l=this;this.svg.transition().ease(d3.easePolyInOut).duration(800).attr("viewBox",this.limits[this.levelGeo[this.currentGeo]]).attr("transform-box","content-box");var c=this.svg.selectAll("airports").data(t).join("circle");"WORLD"!==this.currentGeo&&c.on("mouseover",function(t,e){return d3.select(this).attr("r",function(t){return 1.5*l.scaleSize(t.freq)}).attr("stroke-width",".4"),l.tooltip.showTooltipAirport(t,[e.airport,e.country,e.city,e.freq])}).on("mouseleave",function(t){return d3.select(this).attr("r",function(t){return l.scaleSize(t.freq)}).attr("stroke-width",".1"),l.tooltip.hideTooltip()}),c.attr("stroke","black").attr("stroke-width",".1").attr("class",function(t){return e.currentGeo+" "+t.continent+" "+t.airport}).attr("transform",function(t){return"translate(".concat(e.airportCode[t.airport],")")}).attr("r",0).transition().ease(d3.easeCubicOut).delay(function(t,e){return 100*e/n}).duration(800).attr("r",function(t){return e.scaleSize(t.freq)}).style("fill",function(t){return"QC"==e.currentGeo?"rgba(255, 0, 0, 0.6)":e.ccolor[t.continent]+" 0.6)"}),"WORLD"===this.currentGeo&&this.svg.selectAll("airports").data(t).join("circle").attr("r",function(t){return Math.max(8,l.scaleSize(t.freq))}).attr("transform",function(t){return"translate(".concat(e.airportCode[t.airport],")")}).attr("opacity",0).attr("class",function(t){return e.currentGeo+" "+t.continent+" "+t.airport+" tooltipsCircle"}).on("mouseover",function(t,e){return d3.select("."+e.airport).attr("r",1.5*l.scaleSize(e.freq)).attr("stroke-width",".4"),l.tooltip.showTooltipAirport(t,[e.airport,e.country,e.city,e.freq])}).on("mouseleave",function(t,e){return d3.select("."+e.airport).attr("r",function(t){return Math.log(t.freq+1)/4}).attr("stroke-width",".1"),l.tooltip.hideTooltip()});this.updateCurrentState(1)}.bind(this))}},{key:"displayFlights",value:function(){this.updateCurrentState(-1),d3.csv("./".concat(this.currentGeo,"/flights").concat(this.currentGeo,".csv")).then(e.groupByMainCompanies).then(function(t){var e=this;"QC"==this.currentGeo&&(this.isFlightShow=!0,this.tooltipLegend.addFlightLegendNetwork("Vols des principales compagnies","rgba(0, 0, 0, 0.2)"),this.tooltipLegend.addFlightLegendNetwork("Autres vols","rgba(187, 40, 255, 0.2)")),this.svg.selectAll("flights").data(t).join("line").attr("class",this.currentGeo).attr("x1",function(t){return e.airportCode[t.airportIn][0]}).attr("y1",function(t){return e.airportCode[t.airportIn][1]}).attr("x2",function(t){return e.airportCode[t.airportIn][0]}).attr("y2",function(t){return e.airportCode[t.airportIn][1]}).style("stroke-width",function(t){return 2*e.scaleSize(t.number)}).transition().ease(d3.easeCubicInOut).duration(800).attr("x2",function(t){return e.airportCode[t.airportOut][0]}).attr("y2",function(t){return e.airportCode[t.airportOut][1]}).style("stroke",function(t){return"OTHERS"!==t.company?"rgba(187, 40, 255, 0.2)":"rgba(0, 0, 0, 0.04)"}),this.updateCurrentState(1),this.svg.selectAll("circle").raise()}.bind(this))}},{key:"removeAirports",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.updateCurrentState(-1),e?(this.currentGeo="QC",["WORLD","CA","QC"].forEach(function(e){t.tooltipLegend.delAirportLegendNetwork(e),t.svg.selectAll("line."+e).transition().duration(1e3).style("stroke","rgba(0, 0, 0, 0.0)").remove(),t.svg.selectAll("circle."+e).transition().duration(1e3).attr("r",0).remove()})):(this.tooltipLegend.delAirportLegendNetwork(this.currentGeo),this.svg.transition().duration(1e3).attr("viewBox",this.limits[this.levelGeo[this.currentGeo]-1]),this.svg.selectAll("circle."+this.currentGeo).transition().duration(1e3).attr("r",0).remove())}},{key:"removeFlights",value:function(){"QC"===this.levelGeo[this.levelGeo[this.currentGeo]-1]&&(this.isFlightShow=!0,this.tooltipLegend.delFlightLegendNetwork()),this.svg.selectAll("line."+this.levelGeo[this.levelGeo[this.currentGeo]-1]).transition().duration(1e3).style("stroke","rgba(0, 0, 0, 0.0)").remove()}}]),r}();exports.default=h;
},{"../tooltip":"LSfD","../preprocess.js":"LFDw"}],"sCpY":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.initNetwork=h;var e=r(require("scrollama")),t=r(require("./scrolly/network.js")),i=r(require("./tooltip"));function r(e){return e&&e.__esModule?e:{default:e}}var n=d3.select("#scrolly"),o=n.select("figure"),l=n.select("article"),s=l.selectAll(".step"),d=4*window.innerHeight/5,c=(0,e.default)(),p=d3.select("#viz2").append("svg"),u=d3.select("figure").node().getBoundingClientRect().width,a=new t.default(p,u/d);function f(e){"down"===e.direction?e.index%2==0&&6!==e.index?a.displayAirports():e.index%2==1&&a.displayFlights():e.index%2==1&&5!==e.index?a.removeAirports():e.index%2==0&&6!==e.index&&a.removeFlights()}function x(){var e=Math.floor(.75*window.innerHeight);s.style("height",e+"px");var t=(window.innerHeight-d)/2;o.style("height",d+"px").style("top",t+"px"),c.resize()}function g(e){"up"===e.direction&&0===e.index&&a.removeAirports(!0)}function h(){x(),c.setup({step:"#scrolly article .step",offset:.33,debug:!1}).onStepExit(g).onStepEnter(f)}
},{"scrollama":"Dvza","./scrolly/network.js":"ZSHM","./tooltip":"LSfD"}],"Focm":[function(require,module,exports) {
"use strict";var e=o(require("./scripts/viz4.js")),t=o(require("./scripts/alluvial.js")),r=o(require("./scripts/viz1.js")),i=o(require("./scripts/preprocess.js")),n=o(require("./scripts/scrolly.js"));function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(s=function(e){return e?r:t})(e)}function o(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=s(t);if(r&&r.has(e))return r.get(e);var i={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=n?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(i,o,a):i[o]=e[o]}return i.default=e,r&&r.set(e,i),i}window.onbeforeunload=function(){window.scrollTo(0,0)},window.onload=function(){Promise.all([d3.csv("./WORLD/flightsWORLD.csv"),d3.csv("./CA/flightsCA.csv"),d3.csv("./QC/flightsQC.csv"),d3.csv("./alluvial_data.csv")]).then(function(e){i.setData(e[0].concat(e[1],e[2])),i.setAlluvialData(e[3]),i.setTopCompaniesCount(5),r.displayBucketGraph(),r.setUpSlider()}),n.initNetwork(),e.initWaffle()};
},{"./scripts/viz4.js":"R5VK","./scripts/alluvial.js":"Hxfc","./scripts/viz1.js":"Px16","./scripts/preprocess.js":"LFDw","./scripts/scrolly.js":"sCpY"}]},{},["Focm"], null)
//# sourceMappingURL=/src.8cd010df.js.map